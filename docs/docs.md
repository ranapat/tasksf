<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Collection][1]
    -   [attach][2]
    -   [detach][3]
    -   [get][4]
    -   [push][5]
    -   [unshift][6]
    -   [remove][7]
    -   [run][8]
    -   [stop][9]
    -   [reset][10]
    -   [\_complete][11]
    -   [\_recover][12]
    -   [\_chainTask][13]
    -   [\_unchainTask][14]
    -   [\_postTaskAdds][15]
    -   [running][16]
    -   [current][17]
    -   [passed][18]
    -   [autoRun][19]
    -   [autoRun][20]
-   [Limiter][21]
    -   [\_runCondition][22]
    -   [\_taskComplete][23]
-   [Loop][24]
    -   [\_complete][25]
    -   [\_\_next][26]
    -   [passed][27]
-   [Parallel][28]
    -   [run][29]
    -   [\_run][30]
    -   [\_runCondition][31]
    -   [\_taskComplete][32]
    -   [stop][33]
    -   [reset][34]
    -   [current][35]
    -   [passed][36]
-   [Sequence][37]
    -   [run][38]
    -   [stop][39]
    -   [reset][40]
    -   [\_next][41]
    -   [\_complete][42]
    -   [\_recover][43]
    -   [\_resetCurrent][44]
    -   [\_\_next][45]
    -   [current][46]
    -   [passed][47]
-   [AsyncMap][48]
    -   [match][49]
-   [Factory][50]
    -   [\_CHAIN\_][51]
    -   [maps][52]
    -   [attached][53]
    -   [initialized][54]
    -   [task][55]
    -   [sequence][56]
    -   [parallel][57]
    -   [loop][58]
    -   [limiter][59]
    -   [initialize][60]
    -   [map][61]
    -   [unmap][62]
    -   [unmapAll][63]
    -   [attach][64]
    -   [detach][65]
    -   [get][66]
-   [Map][67]
    -   [match][68]
-   [Match][69]
    -   [percentage][70]
    -   [percentage][71]
-   [PromiseMap][72]
    -   [match][73]
-   [RawMap][74]
    -   [match][75]
-   [TimeoutMap][76]
    -   [match][77]
-   [TriggerMap][78]
    -   [match][79]
-   [AsyncTask][80]
    -   [run][81]
-   [Injector][82]
    -   [afterComplete][83]
    -   [resetAfterComplete][84]
    -   [addChainGetter][85]
    -   [removeChainGetter][86]
-   [PromiseTask][87]
    -   [run][88]
    -   [\_isPromise][89]
    -   [\_setPromise][90]
    -   [\_promiseFinally][91]
-   [Task][92]
    -   [attach][93]
    -   [detach][94]
    -   [get][95]
    -   [run][96]
    -   [complete][97]
    -   [recover][98]
    -   [stop][99]
    -   [restart][100]
    -   [running][101]
    -   [done][102]
    -   [failed][103]
    -   [exceptions][104]
-   [TimeoutTask][105]
    -   [run][106]
    -   [complete][107]
    -   [stop][108]
-   [TriggerTask][109]
    -   [run][110]

## Collection

Collection. Abstract class.

Basic collection class. Do NOT instantiate directly.

**Parameters**

-   `complete` **[Function][111]** function to be called on complete
-   `recover` **[Function][111]** function to be called on recover

### attach

Attaches variable with a key

Used to avoid using global variables or trying to scope
in some way. After attach() you can get().
Attach will also keep the variable from GC.

**Parameters**

-   `key` **[string][112]** accessor for the variable
-   `value` **any** variable value

### detach

Detaches variable with a key

**Parameters**

-   `key` **[string][112]** accessor for the variable

### get

Gets variable with a key

**Parameters**

-   `key` **[string][112]** accessor for the variable

Returns **any** value variable value

### push

Pushes task to the collection

**Parameters**

-   `task` **[Task][113]** task to push

Returns **[Collection][114]** collection current collection

### unshift

Unshifts task to the collection

**Parameters**

-   `task` **[Task][113]** task to push

Returns **[Collection][114]** collection current collection

### remove

Removes task from the collection

**Parameters**

-   `task` **[Task][113]** task to push

Returns **[Collection][114]** collection current collection

### run

Runs all tasks in the collection

### stop

Stops all tasks in the collection

Returns **[boolean][115]** stopped stopped status

### reset

Resets a stopped collection

Returns **[boolean][115]** reset reset status

### \_complete

Complete

Runs complete task

### \_recover

Recover

Runs recover task

**Parameters**

-   `error`  

### \_chainTask

Chain task

Attach the chain to the task

**Parameters**

-   `task` **[Task][113]** task to chain

### \_unchainTask

Unchain task

Detach the chain from the task

**Parameters**

-   `task` **[Task][113]** task to chain

### \_postTaskAdds

Probe post add actions

Try all post add triggers

### running

Gets the running status

Returns **[boolean][115]** running running status

### current

Gets the current task(s)

Returns **([Task][113] \| [Array][116]&lt;[Task][113]>)** task current task(s)

### passed

Gets the passed task(s)

Returns **[Array][116]&lt;[Task][113]>** task passed task(s)

### autoRun

Sets autoRun

Will autorun on push or unshift

**Parameters**

-   `value`  
-   `autoRun` **[boolean][115]** auto runs on push or unshift

### autoRun

Gets autoRun

Returns **[boolean][115]** autoStart auto start on push or unshift

## Limiter

**Extends Parallel**

Limiter

Parallel with limit for max running tasks

**Parameters**

-   `limit` **[number][117]** max running tasks
-   `complete` **[Function][111]** function to be called on complete
-   `recover` **[Function][111]** function to be called on recover
-   `completeOnFirst` **[boolean][115]** completes on last or on first

### \_runCondition

Returns the run condition

Returns **[boolean][115]** condition run condition

### \_taskComplete

Performs on every task complete

## Loop

**Extends Sequence**

Loop

Recurrent tasks

**Parameters**

-   `repeats` **[number][117]** number of repeats. 0 for infinite
-   `repeat` **[Function][111]** function to be called on repeat
-   `recover` **[Function][111]** function to be called on recover

### \_complete

Complete

Runs complete task

### \_\_next

Gets next task from the loop

Returns **[Task][113]** task next task

### passed

Gets the passed task(s)

Returns **[Array][116]&lt;[Task][113]>** task passed task(s)

## Parallel

**Extends Collection**

Parallel

Executes tasks all at once

**Parameters**

-   `complete` **[Function][111]** function to be called on complete
-   `recover` **[Function][111]** function to be called on recover
-   `completeOnFirst` **[boolean][115]** completes on last or on first

### run

Runs all tasks in the collection

### \_run

Runs a single task

**Parameters**

-   `task`  

### \_runCondition

Returns the run condition

Returns **[boolean][115]** condition run condition

### \_taskComplete

Performs on every task complete

### stop

Stops all tasks in the collection

**Parameters**

-   `skip` **[boolean][115]** force the stopped task to be skipped (optional, default `false`)

Returns **[boolean][115]** stopped stopped status

### reset

Resets a stopped collection

Returns **[boolean][115]** reset reset status

### current

Gets the current tasks

Returns **[Array][116]&lt;[Task][113]>** task current tasks

### passed

Gets the passed task(s)

Returns **[Array][116]&lt;[Task][113]>** task passed task(s)

## Sequence

**Extends Collection**

Sequence

Executes tasks one by one

**Parameters**

-   `complete` **[Function][111]** function to be called on complete
-   `recover` **[Function][111]** function to be called on recover

### run

Runs all tasks in the collection

### stop

Stops all tasks in the collection

**Parameters**

-   `skip` **[boolean][115]** force the stopped task to be skipped (optional, default `false`)

Returns **[boolean][115]** stopped stopped status

### reset

Resets a stopped collection

Returns **[boolean][115]** reset reset status

### \_next

Runs next in the sequence

### \_complete

Complete

Runs complete task

### \_recover

Recover

Runs recover task

**Parameters**

-   `error`  

### \_resetCurrent

Resets current

**Parameters**

-   `unchain`   (optional, default `false`)
-   `resetAfterComplete`   (optional, default `false`)

### \_\_next

Gets next task from the loop

Returns **[Task][113]** task next task

### current

Gets the current task

Returns **[Task][113]** task current task

### passed

Gets the passed task(s)

Returns **[Array][116]&lt;[Task][113]>** task passed task(s)

## AsyncMap

**Extends Map**

Map for AsyncTask

Maps the default ways to get a AsyncTask

### match

Match argument with a specific TriggerMap

**Parameters**

-   `args` **...any** 
-   `run` **[Function][111]** function to be called on run
-   `complete` **[Function][111]** function to be called on complete
-   `recover` **[Function][111]** function to be called on recover
-   `marker` **[number][117]** 0 marks a async task

Returns **[Match][118]** match

## Factory

Tasks and Collections Factory

It's a static class - do not instantiate with new

### \_CHAIN\_

Predefined name for a chain in attached task

**Parameters**

-   `_CHAIN_` **[string][112]** predefined name

### maps

Maps collection for task matching

**Parameters**

-   `maps` **[Array][116]&lt;[Map][119]>** list of all maps

### attached

Attached variables

**Parameters**

-   `attached` **[object][120]** collection of any attachments

### initialized

Initialized status

**Parameters**

-   `initialized` **[boolean][115]** initialized status

### task

Gets a task by registered map match

**Parameters**

-   `args` **any** parameters depend on installed maps

Returns **[Task][113]** task matching the parameters

### sequence

Gets a sequence

**Parameters**

-   `complete` **[Function][111]** function to be called on complete
-   `recover` **[Function][111]** function to be called on recover

Returns **[Sequence][121]** new sequence

### parallel

Gets a parallel

**Parameters**

-   `complete` **[Function][111]** function to be called on complete
-   `recover` **[Function][111]** function to be called on recover
-   `completeOnFirst` **[boolean][115]** completes on last or on first

Returns **[Parallel][122]** new sequence

### loop

Gets a loop

**Parameters**

-   `repeats` **[number][117]** number of repeats, 0 for infinite
-   `repeat` **[Function][111]** function to be called on repeat
-   `recover` **[Function][111]** function to be called on recover

Returns **[Loop][123]** new loop

### limiter

Gets a limiter

**Parameters**

-   `limit` **[number][117]** max running tasks
-   `complete` **[Function][111]** function to be called on complete
-   `recover` **[Function][111]** function to be called on recover
-   `completeOnFirst` **[boolean][115]** completes on last or on first

Returns **[Limiter][124]** new limiter

### initialize

Initializes the factory.

Initializes the factory. Will be called automatically on first task
or sequence call. Can be called explicitly with _force_

**Parameters**

-   `force` **[boolean][115]** reinitialize if true (optional, default `false`)

### map

Adds new map for tasks matching

**Parameters**

-   `map` **[Map][119]** map for tasks matching

### unmap

Removes map from tasks matching

**Parameters**

-   `map` **[Map][119]** map to remove from tasks matching

### unmapAll

Removes all maps

### attach

Attaches variable to the factory

Useful to store your collections and access them
later on from anywhere. Or store anything you want
in this predefined place

**Parameters**

-   `key` **[string][112]** accessor for the variable
-   `value` **any** variable value

### detach

Detaches variable by name

**Parameters**

-   `key` **[string][112]** accessor for the variable

### get

Gets variable by name

**Parameters**

-   `key` **[string][112]** accessor for the variable

Returns **any** variable value

## Map

Map for tasks

Map is used to match parameters with tasks. Every map shall
match and return Match class unique for parameters. In case
of Match overlapping the one with bigger priority will be
selected.

This class is the base for all Map classes. Cannot be used
directly. Extend to use.

### match

Match argument with a specific tasks

**Parameters**

-   `args` **...any** 

Returns **[Match][118]** match

## Match

Match for a Map

Match contains the instance of the Task and a
percentage from 0 to 1. In cases of overlapping
of Matches the one with bigger percentage will be
used

**Parameters**

-   `instance` **[Task][113]** any Task instance
-   `percentage` **[number][117]** from 0 to 1

### percentage

Percentage setter

**Parameters**

-   `value` **[number][117]** from 0 to 1

### percentage

Percentage getter

Returns **[number][117]** percentage value from 0 to 1

## PromiseMap

**Extends Map**

Map for PromiseTask

Maps the default ways to get a PromiseTask

### match

Match argument with a specific PromiseMap

**Parameters**

-   `args` **...any** 
-   `promise` **[Promise][125]** promise to wait for
-   `complete` **[Function][111]** function to be called on complete
-   `recover` **[Function][111]** function to be called on recover

Returns **[Match][118]** match

## RawMap

**Extends Map**

Raw map for Task

Maps the default ways to get a Task

### match

Match argument with a specific Task

**Parameters**

-   `args` **...any** 
-   `run` **[Function][111]** function to be called on run
-   `complete` **[Function][111]** function to be called on complete
-   `recover` **[Function][111]** function to be called on recover

Returns **[Match][118]** match

## TimeoutMap

**Extends Map**

Map for TimeoutTasks

Maps the default ways to get a TimeoutTask

### match

Match argument with a specific TimeoutTask

**Parameters**

-   `args` **...any** 
-   `timeout` **[number][117]** timeout in ms
-   `run` **[Function][111]** function to be called on run
-   `complete` **[Function][111]** function to be called on complete
-   `recover` **[Function][111]** function to be called on recover

Returns **[Match][118]** match

## TriggerMap

**Extends Map**

Map for TriggerTask

Maps the default ways to get a TriggerTask

### match

Match argument with a specific TriggerTask

**Parameters**

-   `args` **...any** 
-   `complete` **[Function][111]** function to be called on complete
-   `marker` **[boolean][115]** false marks a trigger task

Returns **[Match][118]** match

## AsyncTask

**Extends Task**

AsyncTask

Executes run and does not complete automatically.
Need manual call of complete() method.
Useful for triggers.

Similar with TriggerTask, but with full set of run, complete and recover.
In run method first parameter will be complete callback, second self and
...args to follow. Does not care what run returns.

**Parameters**

-   `run` **[Function][111]** function to be called on run
-   `complete` **[Function][111]** function to be called on complete
-   `recover` **[Function][111]** function to be called on recover

**Examples**

```javascript
run = (complete, self, ...args) => { complete(); }
```

### run

Runs a task

Executes the run function if defined. All arguments will be
passed to it.

**Parameters**

-   `args` **any** any arguments

## Injector

Injector. Internal class

Injects functions into objects. Used internally.
Not intended to be used on it's own.

### afterComplete

Appends a function after complete and remembers the original

**Parameters**

-   `task` **[Task][113]** task to be modified
-   `callback` **[Function][111]** function to be called after complete
-   `key` **[String][112]** map for the original callback

Returns **[Task][113]** task modified task

### resetAfterComplete

Resets the complete method to it's original state

**Parameters**

-   `task` **[Task][113]** task to be modified
-   `key` **[String][112]** map for the original callback

Returns **[Task][113]** task modified task

### addChainGetter

Adds a method called chain to get Factory._CHAIN_

Shortcut for task.get(Factory._CHAIN_)

**Parameters**

-   `task` **[Task][113]** task to be modified

Returns **[Task][113]** task modified task

### removeChainGetter

Remove a method called chain to get Factory._CHAIN_

**Parameters**

-   `task` **[Task][113]** task to be modified

Returns **[Task][113]** task modified task

## PromiseTask

**Extends Task**

PromiseTask

Takes a Promise and waits for it to complete.
Will attack to finally and complete.
Useful for triggers.

Similar with TriggerTask, but with set of complete and recover.

**Parameters**

-   `promise` **[Promise][125]** promise instance to wait for
-   `complete` **[Function][111]** function to be called on complete
-   `recover` **[Function][111]** function to be called on recover

### run

Runs a task

Checks if promise already resolved. If not does nothing.

**Parameters**

-   `args` **any** any arguments

### \_isPromise

Checks if instance is Promise

We do not want promises as a dependency - as it's conditionally used.
The checks for promise will be a bit loose - just checking for finally
and assuming it's a Promise.

**Parameters**

-   `promise` **[Promise][125]** promise instance

Returns **[boolean][115]** 

### \_setPromise

Sets promise and attaches to finally

**Parameters**

-   `promise` **[Promise][125]** promise instance

### \_promiseFinally

Handles promise finally resolved

## Task

Task

Basic task with run, complete and recover

run function can return nothing(undefined) and it will
call complete instantly. if run returns anything it will
NOT call complete automatically and it's up to you to
trigger complete.

**Parameters**

-   `run` **[Function][111]** function to be called on run
-   `complete` **[Function][111]** function to be called on complete
-   `recover` **[Function][111]** function to be called on recover

**Examples**

```javascript
run = () => { console.log('next thing is complete'); }
```

```javascript
run = (self) => {
  console.log('will manually call complete()');
  // some logic to call self.complete() later
  // or call complete() from outside to make a trigger waiter
  return 1; // or whatever you want but undefined
}
```

### attach

Attaches variable to the task

**Parameters**

-   `key` **[string][112]** accessor for the variable
-   `value` **any** variable value

### detach

Detaches variable by name

**Parameters**

-   `key` **[string][112]** accessor for the variable

### get

Gets variable by name

**Parameters**

-   `key` **[string][112]** accessor for the variable

Returns **any** variable value

### run

Runs a task

Executes the run function if defined. All arguments will be
passed to it.

**Parameters**

-   `args` **any** any arguments

### complete

Completes a task

Executes the complete function if defined. All arguments will be
passed to it.

**Parameters**

-   `args` **any** any arguments

### recover

Recovers a task

Executes the recover function if defined. All arguments will be
passed to it.

**Parameters**

-   `args` **any** any arguments

### stop

Stops a task

Returns **[boolean][115]** success

### restart

Restarts a task

If stopped will start it
If running will respect stop()

**Parameters**

-   `args` **...any** 

Returns **[boolean][115]** success

### running

Gets the running status

Returns **[boolean][115]** running

### done

Gets the done status

Returns **[boolean][115]** done

### failed

Gets the failed status

Returns **[boolean][115]** failed

### exceptions

Gets the exceptions if any

Returns **[Object][120]** exceptions

## TimeoutTask

**Extends Task**

TimeoutTask

Timeout task with run, complete and recover.
Executes after initial timeout

**Parameters**

-   `timeout` **[number][117]** wait before run
-   `run` **[Function][111]** function to be called on run
-   `complete` **[Function][111]** function to be called on complete
-   `recover` **[Function][111]** function to be called on recover

### run

Runs a task

Executes the run function if defined. All arguments will be
passed to it.

**Parameters**

-   `args` **any** any arguments

### complete

Completes a task

Executes the complete function if defined. All arguments will be
passed to it.

**Parameters**

-   `args` **any** any arguments

### stop

Stops a task

Returns **[boolean][115]** success

## TriggerTask

**Extends Task**

TriggerTask

Trigger task with complete.
Executes run and does not complete automatically.
Need manual call of complete() method.
Useful for triggers.

**Parameters**

-   `complete` **[Function][111]** function to be called on complete

### run

Runs a task

Executes the run function if defined. All arguments will be
passed to it.

**Parameters**

-   `args` **any** any arguments

[1]: #collection

[2]: #attach

[3]: #detach

[4]: #get

[5]: #push

[6]: #unshift

[7]: #remove

[8]: #run

[9]: #stop

[10]: #reset

[11]: #_complete

[12]: #_recover

[13]: #_chaintask

[14]: #_unchaintask

[15]: #_posttaskadds

[16]: #running

[17]: #current

[18]: #passed

[19]: #autorun

[20]: #autorun-1

[21]: #limiter

[22]: #_runcondition

[23]: #_taskcomplete

[24]: #loop

[25]: #_complete-1

[26]: #__next

[27]: #passed-1

[28]: #parallel

[29]: #run-1

[30]: #_run

[31]: #_runcondition-1

[32]: #_taskcomplete-1

[33]: #stop-1

[34]: #reset-1

[35]: #current-1

[36]: #passed-2

[37]: #sequence

[38]: #run-2

[39]: #stop-2

[40]: #reset-2

[41]: #_next

[42]: #_complete-2

[43]: #_recover-1

[44]: #_resetcurrent

[45]: #__next-1

[46]: #current-2

[47]: #passed-3

[48]: #asyncmap

[49]: #match

[50]: #factory

[51]: #_chain_

[52]: #maps

[53]: #attached

[54]: #initialized

[55]: #task

[56]: #sequence-1

[57]: #parallel-1

[58]: #loop-1

[59]: #limiter-1

[60]: #initialize

[61]: #map

[62]: #unmap

[63]: #unmapall

[64]: #attach-1

[65]: #detach-1

[66]: #get-1

[67]: #map-1

[68]: #match-1

[69]: #match-2

[70]: #percentage

[71]: #percentage-1

[72]: #promisemap

[73]: #match-3

[74]: #rawmap

[75]: #match-4

[76]: #timeoutmap

[77]: #match-5

[78]: #triggermap

[79]: #match-6

[80]: #asynctask

[81]: #run-3

[82]: #injector

[83]: #aftercomplete

[84]: #resetaftercomplete

[85]: #addchaingetter

[86]: #removechaingetter

[87]: #promisetask

[88]: #run-4

[89]: #_ispromise

[90]: #_setpromise

[91]: #_promisefinally

[92]: #task-1

[93]: #attach-2

[94]: #detach-2

[95]: #get-2

[96]: #run-5

[97]: #complete

[98]: #recover

[99]: #stop-3

[100]: #restart

[101]: #running-1

[102]: #done

[103]: #failed

[104]: #exceptions

[105]: #timeouttask

[106]: #run-6

[107]: #complete-1

[108]: #stop-4

[109]: #triggertask

[110]: #run-7

[111]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[112]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[113]: #task

[114]: #collection

[115]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[116]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[117]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[118]: #match

[119]: #map

[120]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[121]: #sequence

[122]: #parallel

[123]: #loop

[124]: #limiter

[125]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise
